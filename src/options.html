<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Crypto Wallet SignGuard</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: { sans: ['Inter', 'ui-sans-serif', 'system-ui', 'sans-serif'], mono: ['JetBrains Mono', 'ui-monospace', 'monospace'] },
          colors: { sg: { bg: '#0f172a', panel: '#1e293b', border: 'rgba(148, 163, 184, 0.2)', muted: '#94a3b8', safe: '#06b6d4', danger: '#e11d48' } },
          boxShadow: { 'glow-cyan': '0 0 20px -2px rgba(6, 182, 212, 0.4)', 'glow-rose': '0 0 20px -2px rgba(225, 29, 72, 0.3)' }
        }
      }
    }
  </script>
  <style>
    body { font-family: 'Inter', ui-sans-serif, system-ui, sans-serif; background: #0f172a; color: #f8fafc; }
    .sg-card { background: #1e293b; border: 1px solid rgba(148,163,184,0.2); border-radius: 12px; }
    .sg-btn { transition: box-shadow 0.2s, transform 0.1s; }
    .sg-btn:hover { box-shadow: 0 0 20px -2px rgba(6, 182, 212, 0.35); }
    .sg-btn:active { transform: translateY(1px); }
    .sg-btn-secondary { background: rgba(51, 65, 85, 0.8); color: #e2e8f0; border: 1px solid rgba(148, 163, 184, 0.25); }
    .sg-btn-secondary:hover { border-color: rgba(6, 182, 212, 0.4); }
    .muted { color: #94a3b8; }
    .ok { color: #22d3ee; font-weight: 600; }
    .tab-btn.active { color: #06b6d4; border-bottom-color: #06b6d4; }
    .history-card { background: rgba(30, 41, 59, 0.6); border: 1px solid rgba(148, 163, 184, 0.15); border-radius: 10px; }
    section.tab-panel { display: none; }
    section.tab-panel.active { display: block; }
    input[type="checkbox"] { width: 1.125rem; height: 1.125rem; border-radius: 0.25rem; border-color: rgb(100 116 139); accent-color: #06b6d4; background-color: #1e293b; }
    textarea { width: 100%; min-height: 120px; background: rgba(30, 41, 59, 0.8); border: 1px solid rgba(148, 163, 184, 0.25); border-radius: 12px; color: #f8fafc; padding: 10px; font-family: 'JetBrains Mono', monospace; }
    input[type="text"]:not([class*="rounded"]), input[type="password"], .sg-input { background: rgba(30, 41, 59, 0.8); border: 1px solid rgba(148, 163, 184, 0.25); border-radius: 8px; color: #f8fafc; padding: 8px 12px; min-width: 160px; }
  </style>
</head>
<body class="min-h-screen bg-slate-900 text-slate-50">
    <div class="max-w-3xl mx-auto p-5 md:p-6">
      <div class="flex gap-2 mb-5 border-b border-slate-700">
        <button type="button" class="tab-btn active text-slate-400 hover:text-slate-200 py-3 px-4 text-sm font-medium border-b-2 border-transparent mb-[-1px]" data-tab="settings" data-i18n="tabSettings">Configurações</button>
        <button type="button" class="tab-btn text-slate-400 hover:text-slate-200 py-3 px-4 text-sm font-medium border-b-2 border-transparent mb-[-1px]" data-tab="history" data-i18n="tabHistory">Histórico</button>
        <button type="button" class="tab-btn text-slate-400 hover:text-slate-200 py-3 px-4 text-sm font-medium border-b-2 border-transparent mb-[-1px]" data-tab="plan" data-i18n="tabPlan">Plano</button>
      </div>

      <section id="tab-settings" class="tab-panel active">
      <div class="flex flex-wrap items-center justify-between gap-3 mb-6">
        <div>
          <h1 class="text-xl font-bold text-slate-50 m-0 mb-1" data-i18n="optionsTitle"></h1>
          <p class="muted text-sm leading-snug" data-i18n="optionsSubtitle"></p>
        </div>
        <a href="dashboard/dashboard.html" class="text-cyan-500 font-semibold hover:text-cyan-400 underline" data-i18n="dashboardLink">Dashboard</a>
      </div>

      <details class="sg-card p-4 mb-4">
        <summary class="cursor-pointer font-semibold py-1 text-slate-200" data-i18n="onboardingTitle"></summary>
        <div class="mt-3 space-y-2">
          <div class="muted text-sm" data-i18n="onboardingHowTo"></div>
          <div class="muted text-sm" data-i18n="onboardingWhatItDoes"></div>
          <div class="muted text-sm" data-i18n="onboardingWhatItDoesNot"></div>
          <div class="flex gap-3 flex-wrap mt-3">
            <a href="https://revoke.cash" target="_blank" rel="noreferrer" class="text-cyan-500 hover:text-cyan-400 underline text-sm" data-i18n="onboardingLinkRevoke"></a>
            <a href="https://etherscan.io" target="_blank" rel="noreferrer" class="text-cyan-500 hover:text-cyan-400 underline text-sm" data-i18n="onboardingLinkEtherscan"></a>
          </div>
        </div>
      </details>

      <div class="sg-card p-4 mb-4">
        <div class="flex flex-wrap justify-between gap-3 items-center py-2.5 border-b border-slate-700/50">
          <div>
            <div class="font-semibold text-slate-200" data-i18n="securityModeLabel"></div>
            <div class="muted text-sm" data-i18n="securityModeDesc"></div>
          </div>
          <select id="mode" class="font-mono bg-slate-800/80 border border-slate-600/50 rounded-lg px-3 py-2 text-slate-100 focus:outline-none focus:ring-1 focus:ring-cyan-500/50 min-w-[140px]">
            <option value="STRICT" data-i18n="modeStrict"></option>
            <option value="BALANCED" data-i18n="modeBalanced"></option>
            <option value="RELAXED" data-i18n="modeRelaxed"></option>
            <option value="OFF" data-i18n="modeOff"></option>
          </select>
        </div>
        <div class="flex flex-wrap justify-between gap-3 items-center py-2.5">
          <div>
            <div class="font-semibold text-slate-200" data-i18n="riskWarningsLabel"></div>
            <div class="muted" data-i18n="riskWarningsDesc"></div>
          </div>
          <label><input id="riskWarnings" type="checkbox" /></label>
        </div>

        <div class="flex flex-wrap justify-between gap-3 items-center py-2.5">
          <div>
            <div class="font-semibold text-slate-200" data-i18n="connectOverlayLabel"></div>
            <div class="muted" data-i18n="connectOverlayDesc"></div>
          </div>
          <label><input id="showConnectOverlay" type="checkbox" /></label>
        </div>

        <div class="flex flex-wrap justify-between gap-3 items-center py-2.5">
          <div>
            <div class="font-semibold text-slate-200" data-i18n="blockHighRiskLabel"></div>
            <div class="muted" data-i18n="blockHighRiskDesc"></div>
          </div>
          <label><input id="blockHighRisk" type="checkbox" /></label>
        </div>

        <div class="flex flex-wrap justify-between gap-3 items-center py-2.5">
          <div>
            <div class="font-semibold text-slate-200" data-i18n="requireTypedOverrideLabel"></div>
            <div class="muted" data-i18n="requireTypedOverrideDesc"></div>
          </div>
          <label><input id="requireTypedOverride" type="checkbox" /></label>
        </div>

        <div class="flex flex-wrap justify-between gap-3 items-center py-2.5">
          <div>
            <div class="font-semibold text-slate-200" data-i18n="allowOverrideOnPhishingLabel"></div>
            <div class="muted" data-i18n="allowOverrideOnPhishingDesc"></div>
          </div>
          <label><input id="allowOverrideOnPhishing" type="checkbox" /></label>
        </div>

        <div class="flex flex-wrap justify-between gap-3 items-center py-2.5">
          <div>
            <div class="font-semibold text-slate-200" data-i18n="strictBlockApprovalsUnlimitedLabel"></div>
            <div class="muted" data-i18n="strictBlockApprovalsUnlimitedDesc"></div>
          </div>
          <label><input id="strictBlockApprovalsUnlimited" type="checkbox" /></label>
        </div>
        <div class="flex flex-wrap justify-between gap-3 items-center py-2.5">
          <div>
            <div class="font-semibold text-slate-200" data-i18n="strictBlockSetApprovalForAllLabel"></div>
            <div class="muted" data-i18n="strictBlockSetApprovalForAllDesc"></div>
          </div>
          <label><input id="strictBlockSetApprovalForAll" type="checkbox" /></label>
        </div>
        <div class="flex flex-wrap justify-between gap-3 items-center py-2.5">
          <div>
            <div class="font-semibold text-slate-200" data-i18n="strictBlockPermitLikeLabel"></div>
            <div class="muted" data-i18n="strictBlockPermitLikeDesc"></div>
          </div>
          <label><input id="strictBlockPermitLike" type="checkbox" /></label>
        </div>
        <div class="flex flex-wrap justify-between gap-3 items-center py-2.5">
          <div>
            <div class="font-semibold text-slate-200" data-i18n="assetEnrichmentEnabledLabel"></div>
            <div class="muted" data-i18n="assetEnrichmentEnabledDesc"></div>
          </div>
          <label><input id="assetEnrichmentEnabled" type="checkbox" /></label>
        </div>
        <div class="flex flex-wrap justify-between gap-3 items-center py-2.5">
          <div>
            <div class="font-semibold text-slate-200" data-i18n="addressIntelEnabledLabel"></div>
            <div class="muted" data-i18n="addressIntelEnabledDesc"></div>
          </div>
          <label><input id="addressIntelEnabled" type="checkbox" /></label>
        </div>
        <div class="flex flex-wrap justify-between gap-3 items-center py-2.5">
          <div>
            <div class="font-semibold text-slate-200" data-i18n="showUsdLabel"></div>
            <div class="muted" data-i18n="showUsdDesc"></div>
          </div>
          <label><input id="showUsd" type="checkbox" /></label>
        </div>
        <div class="flex flex-wrap justify-between gap-3 items-center py-2.5">
          <div>
            <div class="font-semibold text-slate-200" data-i18n="debugModeLabel"></div>
            <div class="muted" data-i18n="debugModeDesc"></div>
          </div>
          <label><input id="debugMode" type="checkbox" /></label>
        </div>

        <div class="flex flex-wrap justify-between gap-3 items-center py-2.5">
          <div>
            <div class="font-semibold text-slate-200" data-i18n="domainChecksLabel"></div>
            <div class="muted" data-i18n="domainChecksDesc"></div>
          </div>
          <label><input id="domainChecks" type="checkbox" /></label>
        </div>
      </div>

      <div class="sg-card p-4 mb-4">
        <div class="font-semibold text-slate-200 mb-1.5" data-i18n="allowlistLabel"></div>
        <div class="muted" style="margin-bottom:10px;" data-i18n="allowlistDesc"></div>
        <textarea id="allowlist"></textarea>
        <div class="flex flex-wrap gap-3 items-center mt-3">
          <button id="addSuggested" class="sg-btn sg-btn-secondary rounded-xl px-4 py-2.5 font-semibold text-sm cursor-pointer" data-i18n="addSuggested"></button>
          <button id="save" class="sg-btn rounded-xl px-4 py-2.5 font-semibold text-sm bg-cyan-500 text-slate-900 hover:bg-cyan-400 cursor-pointer" data-i18n="save"></button>
          <span id="status" class="ok text-sm opacity-0" data-i18n="saved"></span>
        </div>
      </div>

      <div class="sg-card p-4 mb-4">
        <div class="font-semibold text-slate-200 mb-2">Simulação (Tenderly)</div>
        <div class="muted text-sm mb-3">Simular transações antes de enviar. Configure conta e chave em Tenderly.</div>
        <div class="flex flex-wrap justify-between gap-3 items-center py-2.5">
          <div>
            <div class="font-semibold text-slate-200">Habilitar simulação</div>
            <div class="muted text-sm">Ativar simulação Tenderly para eth_sendTransaction</div>
          </div>
          <label><input id="simulationEnabled" type="checkbox" /></label>
        </div>
        <div class="flex flex-wrap gap-3 items-center py-2.5">
          <label class="flex flex-col gap-1">
            <span class="text-slate-300 text-sm">Account Slug</span>
            <input type="text" id="simulationTenderlyAccount" placeholder="your-account" class="sg-input" />
          </label>
          <label class="flex flex-col gap-1">
            <span class="text-slate-300 text-sm">Project Slug</span>
            <input type="text" id="simulationTenderlyProject" placeholder="project" class="sg-input" />
          </label>
        </div>
        <div class="py-2.5">
          <label class="flex flex-col gap-1">
            <span class="text-slate-300 text-sm">Access Key</span>
            <input type="password" id="simulationTenderlyKey" placeholder="Tenderly API key" class="sg-input" autocomplete="off" />
          </label>
        </div>
      </div>

      <div class="sg-card p-4 mb-4">
        <div class="flex flex-wrap justify-between gap-3 items-center py-2.5">
          <div>
            <div class="font-semibold text-slate-200" data-i18n="vaultTitle"></div>
            <div class="muted" data-i18n="vaultDesc"></div>
          </div>
          <label><input id="vaultEnabled" type="checkbox" /></label>
        </div>
        <div style="margin-top:12px;">
          <div class="font-semibold text-slate-200 mb-1.5" data-i18n="vaultAddLabel"></div>
          <div style="display:flex; gap:8px; flex-wrap:wrap; align-items:center;">
            <input type="text" id="vaultContractInput" placeholder="0x..." style="flex:1; min-width:200px; background: rgba(2,6,23,.6); border: 1px solid rgba(148,163,184,.18); border-radius: 8px; color: #e5e7eb; padding: 8px 12px;" />
            <button type="button" id="vaultAdd" class="sg-btn rounded-xl px-4 py-2 text-sm font-semibold bg-cyan-500 text-slate-900 hover:bg-cyan-400" data-i18n="vaultAddButton">Adicionar ao Cofre</button>
          </div>
        </div>
        <div style="margin-top:12px;">
          <div class="font-semibold text-slate-200 mb-1.5" data-i18n="vaultListLabel"></div>
          <ul id="vaultList" class="history-card" style="list-style:none; padding:0; margin:0;"></ul>
          <p id="vaultListEmpty" class="muted" style="margin-top:6px; display:none;" data-i18n="vaultListEmpty"></p>
        </div>
      </div>

      <div class="sg-card p-4 mb-4">
        <div class="font-semibold text-slate-200 mb-1.5" data-i18n="intelTitle"></div>
        <div class="muted" style="margin-bottom:10px;" data-i18n="intelSubtitle"></div>
        <div class="flex flex-wrap justify-between gap-3 items-center py-2.5">
          <div>
            <div class="font-semibold text-slate-200" data-i18n="enableIntelLabel"></div>
            <div class="muted" data-i18n="enableIntelDesc"></div>
          </div>
          <label><input id="enableIntel" type="checkbox" /></label>
        </div>
        <div class="muted"><span data-i18n="intelTrustedCountLabel"></span>: <b id="intelTrustedCount">—</b></div>
        <div class="muted"><span data-i18n="intelBlockedCountLabel"></span>: <b id="intelBlockedCount">—</b></div>
        <div class="muted"><span data-i18n="intelBlockedAddressCountLabel"></span>: <b id="intelBlockedAddressCount">—</b></div>
        <div class="muted"><span data-i18n="intelUpdatedAtLabel"></span>: <b id="intelUpdatedAt">—</b></div>
        <div class="row" style="margin-top:10px;">
          <button id="intelUpdateNow" class="sg-btn sg-btn-secondary rounded-xl px-4 py-2 font-semibold text-sm" data-i18n="intelUpdateNow"></button>
        </div>
        <div style="margin-top:14px;">
          <div class="font-semibold text-slate-200 mb-1.5" data-i18n="customTrustedDomainsLabel"></div>
          <div class="muted" style="margin-bottom:6px;" data-i18n="customTrustedDomainsDesc"></div>
          <textarea id="customTrustedDomains" style="min-height:80px"></textarea>
        </div>
        <div style="margin-top:14px;">
          <div class="font-semibold text-slate-200 mb-1.5" data-i18n="customBlockedDomainsLabel"></div>
          <div class="muted" style="margin-bottom:6px;" data-i18n="customBlockedDomainsDesc"></div>
          <textarea id="customBlockedDomains" style="min-height:80px"></textarea>
        </div>
        <div class="row" style="margin-top:10px;">
          <button id="exportLists" class="sg-btn sg-btn-secondary rounded-xl px-4 py-2 font-semibold text-sm" data-i18n="exportListsLabel"></button>
        </div>
      </div>

      <div class="sg-card p-4 mb-4">
        <div class="font-semibold text-slate-200 mb-1.5" data-i18n="privacyLimitsTitle"></div>
        <div class="muted" style="margin-bottom:8px;" data-i18n="privacyLimitsLine1"></div>
        <div class="muted" style="margin-bottom:8px;" data-i18n="privacyLimitsLine2"></div>
        <div class="muted" style="margin-bottom:10px;" data-i18n="privacyLimitsLine3"></div>
        <div class="row" style="margin-top:10px;">
          <div>
            <div class="font-semibold text-slate-200" data-i18n="cloudIntelOptInLabel"></div>
            <div class="muted" data-i18n="cloudIntelOptInDesc"></div>
          </div>
          <label><input id="cloudIntelOptIn" type="checkbox" /></label>
        </div>
      </div>

      <div class="sg-card p-4 mb-4">
        <div class="font-semibold text-slate-200 mb-1.5" data-i18n="safetyNotesTitle"></div>
        <div class="muted" style="margin-bottom:10px;" data-i18n="safetyNotesLine1"></div>
        <div class="muted" style="margin-bottom:10px;" data-i18n="safetyNotesLine2"></div>
        <div class="muted" style="display:flex; gap:10px; flex-wrap:wrap;">
          <a href="https://revoke.cash" target="_blank" rel="noreferrer" style="color:#60a5fa; text-decoration:underline;" data-i18n="safetyNotesLinkRevoke"></a>
          <a href="https://etherscan.io" target="_blank" rel="noreferrer" style="color:#60a5fa; text-decoration:underline;" data-i18n="safetyNotesLinkEtherscan"></a>
          <button id="exportDebug" class="sg-btn sg-btn-secondary rounded-xl px-4 py-2 font-semibold text-sm" data-i18n="exportDebug"></button>
        </div>
      </div>
      </section>

      <section id="tab-history" class="tab-panel">
        <h1 data-i18n="tabHistory"></h1>
        <p class="muted" data-i18n="historySubtitle"></p>
        <div id="historyList"></div>
        <div class="row" style="margin-top:12px;">
          <button id="historyExport" class="sg-btn sg-btn-secondary rounded-xl px-4 py-2 font-semibold text-sm" data-i18n="historyExport"></button>
          <button id="historyClear" class="sg-btn rounded-xl px-4 py-2 font-semibold text-sm bg-rose-600/20 text-rose-400 border border-rose-500/30 hover:shadow-[0_0_16px_-2px_rgba(225,29,72,0.25)]" data-i18n="historyClear"></button>
        </div>
      </section>

      <section id="tab-plan" class="tab-panel">
        <h1 data-i18n="tabPlan"></h1>
        <p class="muted" data-i18n="planSubtitle"></p>
        <div class="sg-card p-4 mb-4">
          <div class="muted"><span data-i18n="planCurrent"></span>: <b id="planTierDisplay">FREE</b></div>
          <div class="row" style="margin-top:12px;">
            <label style="flex:1;"><span data-i18n="planLicenseKey"></span></label>
            <input type="text" id="licenseKey" placeholder="" style="flex:2; background: rgba(2,6,23,.6); border: 1px solid rgba(148,163,184,.18); border-radius: 8px; color: #e5e7eb; padding: 8px 12px;" />
          </div>
          <div class="row" style="margin-top:10px;">
            <button id="goPro" class="sg-btn rounded-xl px-4 py-2.5 font-semibold bg-cyan-500 text-slate-900 hover:bg-cyan-400" data-i18n="planGoPro">Assinar PRO</button>
          </div>
        </div>
      </section>
    </div>
    <script type="module" src="./options.js"></script>
  </body>
</html>
